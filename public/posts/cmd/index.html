<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>å‘½ä»¤è¡Œçš„æœ¬è´¨å’Œå››è¦ç´ ï¼ˆä¸€ï¼‰ - OK Computer</title><meta name="Description" content="WUMANHOçš„åšå®¢"><meta property="og:title" content="å‘½ä»¤è¡Œçš„æœ¬è´¨å’Œå››è¦ç´ ï¼ˆä¸€ï¼‰" />
<meta property="og:description" content="å†…æ ¸ä¸å£³ ğŸ¢ å†…æ ¸ï¼ˆKernelï¼‰æ˜¯è®¡ç®—æœºæ“ä½œç³»ç»Ÿç”¨äºä¸ç¡¬ä»¶æ‰“äº¤é“ã€è¿›ç¨‹è°ƒåº¦ã€è®¿é—®æ–‡ä»¶ç³»ç»Ÿçš„ä¸€å°æ®µçŸ­å°ç²¾æ‚çš„ä»£ç ï¼Œä»–ä¸ºæˆ‘ä»¬å±è”½äº†ç¡¬ä»¶çš„å·®å¼‚ï¼Œå¹¶ä¸”" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/cmd/" />
<meta property="og:image" content="/logo.png"/>
<meta property="article:published_time" content="2020-11-27T14:10:08+08:00" />
<meta property="article:modified_time" content="2020-11-27T14:10:08+08:00" />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="/logo.png"/>

<meta name="twitter:title" content="å‘½ä»¤è¡Œçš„æœ¬è´¨å’Œå››è¦ç´ ï¼ˆä¸€ï¼‰"/>
<meta name="twitter:description" content="å†…æ ¸ä¸å£³ ğŸ¢ å†…æ ¸ï¼ˆKernelï¼‰æ˜¯è®¡ç®—æœºæ“ä½œç³»ç»Ÿç”¨äºä¸ç¡¬ä»¶æ‰“äº¤é“ã€è¿›ç¨‹è°ƒåº¦ã€è®¿é—®æ–‡ä»¶ç³»ç»Ÿçš„ä¸€å°æ®µçŸ­å°ç²¾æ‚çš„ä»£ç ï¼Œä»–ä¸ºæˆ‘ä»¬å±è”½äº†ç¡¬ä»¶çš„å·®å¼‚ï¼Œå¹¶ä¸”"/>
<meta name="application-name" content="å¥½ç”µè„‘">
<meta name="apple-mobile-web-app-title" content="å¥½ç”µè„‘"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="/posts/cmd/" /><link rel="prev" href="/posts/thetourist/" /><link rel="next" href="/posts/show1129/" /><link rel="stylesheet" href="/lib/normalize/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"><link rel="stylesheet" href="/lib/animate/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "å‘½ä»¤è¡Œçš„æœ¬è´¨å’Œå››è¦ç´ ï¼ˆä¸€ï¼‰",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "\/posts\/cmd\/"
        },"genre": "posts","keywords": "bash, ssh","wordcount":  1636 ,
        "url": "\/posts\/cmd\/","datePublished": "2020-11-27T14:10:08+08:00","dateModified": "2020-11-27T14:10:08+08:00","publisher": {
            "@type": "Organization",
            "name": "wumanho"},"author": {
                "@type": "Person",
                "name": "wumanho"
            },"description": ""
    }
    </script></head>
    <body header-desktop="fixed" header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('light' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'light' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="OK Computer">OK Computer</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> æ–‡ç«  </a><a class="menu-item" href="/tags/"> æ ‡ç­¾ </a><a class="menu-item" href="/categories/"> åˆ†ç±» </a><a class="menu-item" href="/about/"> å…³äº </a><span class="menu-item delimiter"></span><a href="javascript:void(0);" class="menu-item theme-switch" title="åˆ‡æ¢ä¸»é¢˜">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="OK Computer">OK Computer</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><a class="menu-item" href="/posts/" title="">æ–‡ç« </a><a class="menu-item" href="/tags/" title="">æ ‡ç­¾</a><a class="menu-item" href="/categories/" title="">åˆ†ç±»</a><a class="menu-item" href="/about/" title="">å…³äº</a><a href="javascript:void(0);" class="menu-item theme-switch" title="åˆ‡æ¢ä¸»é¢˜">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container"><article class="page single"><h1 class="single-title animated flipInX">å‘½ä»¤è¡Œçš„æœ¬è´¨å’Œå››è¦ç´ ï¼ˆä¸€ï¼‰</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw"></i>wumanho</a></span>&nbsp;<span class="post-category">æ”¶å½•äº <a href="/categories/%E6%8A%80%E6%9C%AF/"><i class="far fa-folder fa-fw"></i>æŠ€æœ¯</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2020-11-27">2020-11-27</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;çº¦ 1636 å­—&nbsp;
                <i class="far fa-clock fa-fw"></i>&nbsp;é¢„è®¡é˜…è¯» 4 åˆ†é’Ÿ&nbsp;</div>
        </div><div class="content" id="content"><h2 id="å†…æ ¸ä¸å£³-">å†…æ ¸ä¸å£³ ğŸ¢</h2>
<p>å†…æ ¸ï¼ˆKernelï¼‰æ˜¯è®¡ç®—æœºæ“ä½œç³»ç»Ÿç”¨äºä¸ç¡¬ä»¶æ‰“äº¤é“ã€è¿›ç¨‹è°ƒåº¦ã€è®¿é—®æ–‡ä»¶ç³»ç»Ÿçš„ä¸€å°æ®µçŸ­å°ç²¾æ‚çš„ä»£ç ï¼Œä»–ä¸ºæˆ‘ä»¬å±è”½äº†ç¡¬ä»¶çš„å·®å¼‚ï¼Œå¹¶ä¸”å·¥ä½œåœ¨ä¸€ä¸ªéå¸¸ç‰¹æ®Šçš„çŠ¶æ€ï¼Œå«ã€Œå†…æ ¸æ€ã€ã€‚</p>
<p>å£³ï¼ˆShellï¼‰å°±æ˜¯æˆ‘ä»¬ç”¨äºè·Ÿå†…æ ¸æ‰“äº¤é“çš„æ–¹å¼ï¼ŒShell æ˜¯<strong>ä¸€ç±»ç¨‹åºçš„ç»Ÿç§°</strong>ï¼Œå¹¶ä¸å•å•æŒ‡æŸä¸€ä¸ªç‰¹å®šç¨‹åºã€‚</p>
<p>æˆ‘ä»¬è€³ç†Ÿèƒ½è¯¦çš„ Shell åŒ…æ‹¬ bashã€zshã€csh ç­‰ç­‰ï¼Œå…¶å® Windows æä¾›çš„å›¾å½¢ç•Œé¢ä¹Ÿæ˜¯ä¸€ä¸ª Shellã€‚</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/images/cmd/shell.png"
        data-srcset="/images/cmd/shell.png, /images/cmd/shell.png 1.5x, /images/cmd/shell.png 2x"
        data-sizes="auto"
        alt="/images/cmd/shell.png"
        title="shellç¤ºæ„å›¾" /></p>
<p>Â </p>
<h2 id="å‘½ä»¤è¡Œçš„æœ¬è´¨-">å‘½ä»¤è¡Œçš„æœ¬è´¨ ğŸ¤”</h2>
<p>åœ¨ Linux ç³»ç»Ÿå¯åŠ¨åï¼Œå†…æ ¸ä¼šè‡ªè¡Œå¯åŠ¨ä¸€ä¸ª init è¿›ç¨‹ï¼Œæ‰€è°“çš„ init è¿›ç¨‹æ˜¯ä¸€ä¸ªç”±å†…æ ¸å¯åŠ¨çš„ç”¨æˆ·çº§è¿›ç¨‹ã€‚</p>
<p>init è¿›ç¨‹å§‹ç»ˆä¼šæ˜¯ Linux ç³»ç»Ÿçš„ç¬¬ä¸€ä¸ªè¿›ç¨‹ï¼Œå…¶ä½™å¿…è¦çš„è¿›ç¨‹ä¼šç”± init è¿›ç¨‹ fork å‡ºæ¥ï¼Œæ³¨æ„è¿™ä¸ªæ—¶å€™æ˜¯æ²¡æœ‰ SHELL çš„ï¼Œåªæœ‰ä¸€å †åå°è¿›ç¨‹åœ¨è¿è¡Œï¼Œå…¶ä¸­è¿˜åŒ…æ‹¬ä¸€ä¸ªå«åš ã€ŒSSHDã€çš„è¿›ç¨‹ã€‚</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/images/cmd/proc.png"
        data-srcset="/images/cmd/proc.png, /images/cmd/proc.png 1.5x, /images/cmd/proc.png 2x"
        data-sizes="auto"
        alt="/images/cmd/proc.png"
        title="initç¤ºæ„å›¾" /></p>
<p>SSHD çš„ ã€ŒDã€æ˜¯ Daemon çš„æ„æ€ï¼Œåœ¨è®¡ç®—æœºé¢†åŸŸå¸¸ç”¨äºè¡¨ç¤ºä¸€ä¸ª<strong>åå°è¿›ç¨‹</strong>ï¼Œç±»ä¼¼çš„è¿˜æœ‰ã€Œfirewalldã€ç­‰ã€‚</p>
<p>SSHD è¿›ç¨‹é»˜è®¤ç›‘å¬ 22 ç«¯å£ï¼Œç›‘å¬ç«¯å£å¯ä»¥é€šè¿‡ä¿®æ”¹ /etc/ssh/sshd_config é…ç½®æ–‡ä»¶æŒ‡å®šï¼Œä¸€æ—¦æœ‰è¿œç¨‹è®¾å¤‡å‘èµ·å¯¹ 22 ç«¯å£çš„è¯·æ±‚ï¼ŒéªŒè¯é€šè¿‡ä¹‹åï¼ŒSSHD å°±ä¼š fork å‡ºæ¥ä¸€ä¸ªæ–°çš„è¿›ç¨‹ï¼Œè¯¥æ–°è¿›ç¨‹åå­—å°±å«åš bashï¼ˆæˆ–è€…å…¶ä»– Shellï¼‰ã€‚</p>
<p>Shell è¿›ç¨‹ä¸ºç”¨æˆ·æä¾›ä¸€ä¸ªå¯äº¤äº’çš„çª—å£ï¼Œå®ƒçš„å·¥ä½œå°±æ˜¯è¯»å–ç”¨æˆ·è¾“å…¥çš„å‘½ä»¤å¹¶æ‰§è¡Œï¼Œä»–çš„æ‰§è¡Œç»“æœå¯èƒ½æ˜¯ fork ä¸€ä¸ªæ–°çš„è¿›ç¨‹ï¼Œæˆ–è€…è¾“å‡ºä¸€äº›å†…å®¹ï¼Œå–å†³äºç”¨æˆ·è¾“å…¥çš„å…·ä½“å‘½ä»¤ã€‚</p>
<p>ä»¥ä¸Šçš„è¿‡ç¨‹å¯ä»¥é€šè¿‡ <code>pstree</code> å‘½ä»¤éªŒè¯ï¼š</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/images/cmd/pstree.png"
        data-srcset="/images/cmd/pstree.png, /images/cmd/pstree.png 1.5x, /images/cmd/pstree.png 2x"
        data-sizes="auto"
        alt="/images/cmd/pstree.png"
        title="pstreeå‘½ä»¤" /></p>
<p>å›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼Œbash æ˜¯ SSHD fork å‡ºæ¥çš„å­è¿›ç¨‹ï¼Œè€Œå½“æˆ‘æ‰§è¡Œ pstree å‘½ä»¤ä¹‹åï¼Œbash åˆ fork å‡ºæ¥ä¸€ä¸ª pstree è¿›ç¨‹ã€‚</p>
<p>Â </p>
<h3 id="å¦‚ä½•æŒ‡å®š-shell-">å¦‚ä½•æŒ‡å®š Shell ğŸŒï¸â€â™‚ï¸</h3>
<p>Linux æœ‰ä¸€ä¸ªè‘—åçš„æ–‡ä»¶<code>/etc/passwd</code>ï¼Œè¯¥æ–‡ä»¶ä¸­ä¿å­˜äº†ç³»ç»Ÿä¸­æ‰€æœ‰ç”¨æˆ·çš„ä¿¡æ¯ï¼Œæ¯ä¸€è¡Œå°±æ˜¯ä¸€ä¸ªç”¨æˆ·ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@fresh-bytes-1 ~<span class="o">]</span><span class="c1"># cat /etc/passwd</span>
root: x:0:0:root:/root:/bin/bash
bin: x:1:1:bin:/bin:/sbin/nologin
daemon: x:2:2:daemon:/sbin:/sbin/nologin
adm: x:3:4:adm:/var/adm:/sbin/nologin
lp: x:4:7:lp:/var/spool/lpd:/sbin/nologin
sync: x:5:0:sync:/sbin:/bin/sync
shutdown: x:6:0:shutdown:/sbin:/sbin/shutdown
halt: x:7:0:halt:/sbin:/sbin/halt
mail: x:8:12:mail:/var/spool/mail:/sbin/nologin
operator: x:11:0:operator:/root:/sbin/nologin
games: x:12:100:games:/usr/games:/sbin/nologin
ftp: x:14:50:FTP User:/var/ftp:/sbin/nologin
nobody: x:99:99:Nobody:/:/sbin/nologin
systemd-bus-proxy: x:999:998:systemd Bus Proxy:/:/sbin/nologin
systemd-network: x:192:192:systemd Network Management:/:/sbin/nologin
dbus: x:81:81:System message bus:/:/sbin/nologin
polkitd: x:998:997:User <span class="k">for</span> polkitd:/:/sbin/nologin
tss: x:59:59:Account used by the trousers package to sandbox the tcsd daemon:/dev/null:/sbin/nologin
sshd: x:74:74:Privilege-separated SSH:/var/empty/sshd:/sbin/nologin
postfix: x:89:89::/var/spool/postfix:/sbin/nologin
chrony: x:997:995::/var/lib/chrony:/sbin/nologin
<span class="o">[</span>root@fresh-bytes-1 ~<span class="o">]</span>#
</code></pre></td></tr></table>
</div>
</div><p>æ¯ä¸€è¡Œçš„æœ€åä¸€ä¸ª<code>:</code>åé¢çš„å†…å®¹ï¼Œå°±æ˜¯å¯¹åº”è¯¥ç”¨æˆ·ç™»å½•ä¹‹åï¼Œé»˜è®¤æ‰“å¼€çš„ Shell è¿›ç¨‹æ˜¯å“ªä¸ªä¸€ä¸ªï¼Œå¦‚æœæ˜¯<code>nologin</code>çš„è¯ï¼Œåˆ™ä»¥ä¸ºç€è¯¥ç”¨æˆ·æ— æ³•ç™»å½•ã€‚</p>
<p>åªè¦ä¿®æ”¹è¿™ä¸ªé…ç½®æ–‡ä»¶ï¼Œå°±å¯ä»¥ä¸ºæ¯ä¸ªç”¨æˆ·æŒ‡å®šé»˜è®¤çš„ Shell è¿›ç¨‹ã€‚</p>
<p>Â </p>
<h3 id="shell-çš„æŸ¥æ‰¾æœºåˆ¶-">Shell çš„æŸ¥æ‰¾æœºåˆ¶ ğŸ’â€â™€ï¸</h3>
<p>å½“ç”¨æˆ·è¾“å…¥ä¸€ä¸ªã€Œå†…ç½®ã€çš„å‘½ä»¤ï¼Œä¾‹å¦‚<code>cd</code>ï¼Œé‚£ä¹ˆ Shell å°±ä¼šç«‹é©¬ä½œå‡ºååº”ï¼Œæ‰§è¡Œå‘½ä»¤ï¼Œåˆ‡æ¢è‡³ç›®æ ‡ç›®å½•ã€‚</p>
<p>ä½†å¦‚æœç”¨æˆ·è¾“å…¥çš„å‘½ä»¤ä¸æ˜¯ä¸€ä¸ªå†…ç½®å‘½ä»¤ï¼Œé‚£ä¹ˆå½“å‰çš„ Shell å°±ä¼šæ ¹æ®æŸ¥æ‰¾æœºåˆ¶å»æ‰¾åˆ°å‘½ä»¤æ‰€åœ¨çš„è·¯å¾„å†å»æ‰§è¡Œï¼Œå¦‚æœæ‰¾ä¸åˆ°å°±æŠ¥é”™ã€‚</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/images/cmd/path.png"
        data-srcset="/images/cmd/path.png, /images/cmd/path.png 1.5x, /images/cmd/path.png 2x"
        data-sizes="auto"
        alt="/images/cmd/path.png"
        title="/images/cmd/path.png" /></p>
<p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå½“æˆ‘æ‰§è¡Œ<code>mvn</code>å‘½ä»¤æ—¶ï¼Œç³»ç»Ÿæç¤ºã€Œæ‰¾ä¸åˆ°å‘½ä»¤ã€é”™è¯¯ï¼Œä½†æˆ‘è¾“å…¥<code>docker</code>çš„æ—¶å€™ï¼Œå°±å¯ä»¥æ­£ç¡®æ‰§è¡Œï¼Œè¿™å…¶å®å°±æ˜¯ Shell æ ¹æ®æŸ¥æ‰¾æœºåˆ¶æ²¡æœ‰æ‰¾åˆ° mvn å‘½ä»¤å¯¼è‡´çš„ã€‚</p>
<p>å½“ç”¨æˆ·è¾“å…¥ä¸€ä¸ªéå†…ç½®å‘½ä»¤æ—¶ï¼Œå½“å‰çš„ Shell å°±ä¼šå¼€å§‹å°è¯•æ‰¾åˆ°è¿™ä¸ªå‘½ä»¤çš„ä½ç½®ï¼Œå®ƒä¼šå»å“ªé‡Œæ‰¾å‘¢ï¼Ÿ</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒä¼šå» <code>$PATH</code>ç¯å¢ƒå˜é‡å®šä¹‰çš„è·¯å¾„ä¸­æ‰¾ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell"><span class="o">[</span>root@fresh-bytes-1 ~<span class="o">]</span><span class="c1"># echo $PATH</span>
/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin
<span class="o">[</span>root@fresh-bytes-1 ~<span class="o">]</span># 
</code></pre></td></tr></table>
</div>
</div><p>å½“ Shell æ²¡æœ‰åœ¨ <code>$PATH</code>ç¯å¢ƒå˜é‡å®šä¹‰çš„è·¯å¾„ä¸­æ‰¾åˆ°ç”¨æˆ·è¾“å…¥çš„å‘½ä»¤å¯¹åº”çš„å¯æ‰§è¡Œç¨‹åºæ—¶ï¼Œå°±ä¼šæŠ¥é”™ï¼Œé€šå¸¸æ˜¯éå¸¸ç†Ÿæ‚‰çš„<code>command not found</code>é”™è¯¯ã€‚</p>
<p>è€Œä¸€æ—¦æ‰¾åˆ°äº†ï¼Œé‚£ä¹ˆ Shell å°±ä¼šç«‹é©¬å»æ‰§è¡Œï¼Œè€Œå¹¶ä¸å…³å¿ƒè¿™åˆ°åº•æ˜¯ä»€ä¹ˆã€‚</p>
<p>Â </p>
<h3 id="å‘½ä»¤çš„æ‰§è¡Œ-">å‘½ä»¤çš„æ‰§è¡Œ ğŸ¯</h3>
<p>åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæ‰§è¡Œä¸€ä¸ªå‘½ä»¤ï¼Œå°±ç­‰äº fork ä¸€ä¸ªæ–°çš„è¿›ç¨‹ã€‚</p>
<p>ä¾‹å¦‚å½“ç”¨æˆ·åœ¨å‘½ä»¤è¡Œçª—å£è¾“å…¥<code>node</code>å‘½ä»¤å¹¶æ•²ä¸‹å›è½¦ï¼Œbash å°±ä¼š fork ä¸€ä¸ªå­è¿›ç¨‹ nodeï¼Œä¹‹åå°†æ‰€æœ‰å‚æ•°ä»¥åŠæ§åˆ¶æƒäº¤ç»™è¿™ä¸ªè¿›ç¨‹ï¼Œè¿™ä¹‹åå‘ç”Ÿçš„äº‹æƒ…å°±æ˜¯ç¨‹åºè‡ªå·±çš„äº‹æƒ…äº†ï¼Œbash å¹¶ä¸ä¼šç®¡ï¼Œç›´åˆ°ç¨‹åºæ‰§è¡Œå®Œæˆæˆ–è€…ç”¨æˆ·é€€å‡ºã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell"><span class="o">[</span>root@fresh-bytes-1 ~<span class="o">]</span><span class="c1"># node</span>
&gt; console.log<span class="o">(</span><span class="s2">&#34;Hello&#34;</span><span class="o">)</span>
Hello
undefined
&gt; .exit
<span class="o">[</span>root@fresh-bytes-1 ~<span class="o">]</span># 
</code></pre></td></tr></table>
</div>
</div><p>ä¹Ÿæœ‰ä¾‹å¤–ï¼Œä¾‹å¦‚å¦‚æœç”¨æˆ·åˆ›å»ºä¸€ä¸ªè„šæœ¬ script.shï¼Œå†…å®¹æ˜¯ export ä¸€ä¸ª AAA ç¯å¢ƒå˜é‡ï¼Œå€¼ä¸º 123ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell"><span class="o">[</span>root@fresh-bytes-1 ~<span class="o">]</span><span class="c1"># cat script.sh</span> 
<span class="nb">export</span> <span class="nv">AAA</span><span class="o">=</span><span class="m">123</span>
</code></pre></td></tr></table>
</div>
</div><p>æ‰§è¡Œä¸€ä¸‹ï¼Œå´å‘ç°ä»€ä¹ˆä¹Ÿæ²¡æœ‰å‘ç”Ÿï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell"><span class="o">[</span>root@fresh-bytes-1 ~<span class="o">]</span><span class="c1"># sh script.sh</span> 
<span class="o">[</span>root@fresh-bytes-1 ~<span class="o">]</span><span class="c1"># echo $AAA</span>

<span class="o">[</span>root@fresh-bytes-1 ~<span class="o">]</span>#
</code></pre></td></tr></table>
</div>
</div><p>åŸå› æ˜¯ç”¨æˆ·æ˜¯ç”¨<code>sh</code>å‘½ä»¤ï¼Œæ‰§è¡Œ script.sh çš„è¯ï¼Œscript.sh å…¶å®å°±ç›¸å½“äºæ˜¯ <code>sh</code> å‘½ä»¤çš„å‚æ•°ï¼Œå½“å‰çš„ Shell ä¼šä¸º <code>sh</code> å‘½ä»¤ fork ä¸€ä¸ªæ–°çš„å­è¿›ç¨‹ï¼Œç„¶åè¯»å–å‚æ•° script.sh å¹¶ä¸”åœ¨<strong>æ–°çš„å­è¿›ç¨‹ä¸­</strong>æ‰§è¡Œï¼Œæ‰§è¡Œå®Œæ¯•åè‡ªåŠ¨é€€å‡ºï¼Œè€Œ export åªä¼šæ–°çš„å­è¿›ç¨‹ç¯å¢ƒä¸­ç”Ÿæ•ˆï¼Œæ‰€ä»¥å½“å‰è¿›ç¨‹ä¸­ï¼Œæ˜¯çœ‹ä¸åˆ° AAA å˜é‡çš„ã€‚</p>
<p>å¦‚ä½•è§£å†³å‘¢ï¼Ÿå¯ä»¥åˆ©ç”¨<code>source</code>å‘½ä»¤ã€‚</p>
<p><code>source</code>å‘½ä»¤å¯ä»¥ä½¿æŒ‡å®šçš„ Shell ç¨‹åºæ–‡ä»¶åœ¨å½“å‰ç¯å¢ƒä¸­æ‰§è¡Œå¹¶ç”Ÿæ•ˆï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell"><span class="o">[</span>root@fresh-bytes-1 ~<span class="o">]</span><span class="c1"># source script.sh</span> 
<span class="o">[</span>root@fresh-bytes-1 ~<span class="o">]</span><span class="c1"># echo $AAA</span>
<span class="m">123</span>
<span class="o">[</span>root@fresh-bytes-1 ~<span class="o">]</span># 
</code></pre></td></tr></table>
</div>
</div><p>Â </p>
<p>ï¼ˆä¸‹ä¸€ç¯‡æ›´æ–°ä¼šä»‹ç»å‘½ä»¤è¡Œçš„å…³é”®å››è¦ç´ ï¼‰</p>
<p>Â </p>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>æ›´æ–°äº 2020-11-27</span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/bash/">bash</a>,&nbsp;<a href="/tags/ssh/">ssh</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">è¿”å›</a></span>&nbsp;|&nbsp;<span><a href="/">ä¸»é¡µ</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/posts/thetourist/" class="prev" rel="prev" title="Radiohead - The Tourist æ­Œè¯ç¿»è¯‘"><i class="fas fa-angle-left fa-fw"></i>Radiohead - The Tourist æ­Œè¯ç¿»è¯‘</a>
            <a href="/posts/show1129/" class="next" rel="next" title="å‡å‡æ¢ x æ¢…å¡å¾·å°”">å‡å‡æ¢ x æ¢…å¡å¾·å°”<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
</article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">ç”± <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.73.0">Hugo</a> å¼ºåŠ›é©±åŠ¨ | ä¸»é¢˜ - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i> LoveIt</a>
                </div><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2019 - 2020</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">wumanho</a></span><span class="icp-splitter">&nbsp;|&nbsp;</span><br class="icp-br"/>
                    <span class="icp">ç²¤ICPå¤‡20015586å·</span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="å›åˆ°é¡¶éƒ¨">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="æŸ¥çœ‹è¯„è®º">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><link rel="stylesheet" href="/lib/katex/katex.min.css"><link rel="stylesheet" href="/lib/katex/copy-tex.min.css"><script type="text/javascript" src="/lib/smooth-scroll/smooth-scroll.min.js"></script><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="/lib/katex/katex.min.js"></script><script type="text/javascript" src="/lib/katex/auto-render.min.js"></script><script type="text/javascript" src="/lib/katex/copy-tex.min.js"></script><script type="text/javascript" src="/lib/katex/mhchem.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"å¤åˆ¶åˆ°å‰ªè´´æ¿","maxShownLines":90},"comment":{},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
